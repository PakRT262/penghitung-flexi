function hitung() {
  const hari = document.getElementById("hari").value;
  const jamMasukInput = document.getElementById("jamMasuk").value;
  const hasilDiv = document.getElementById("hasil");

  if (!jamMasukInput) {
    hasilDiv.innerHTML = "â° Silakan masukkan jam masuk.";
    return;
  }

  // Ubah string "HH:MM" jadi objek Date dengan detik juga
  // Untuk input type=time defaultnya HH:MM, kalau mau detik perlu diinput manual
  // Supaya bisa coba, kita ambil detik 0 jika tidak ada detik di input
  // Contoh input bisa ditambah manual "07:45:35" di Chrome (bisa ubah type jadi time dengan step)
  
  // Ubah input time jadi HH:MM:SS dengan step 1 detik agar bisa input detik
  // Jadi harus ubah inputnya di HTML juga jadi: <input type="time" step="1" id="jamMasuk" required />

  const jamMasuk = new Date(`1970-01-01T${jamMasukInput}:00`);

  // Jam kerja mulai dan toleransi tetap sama
  const jamKerjaMulai = new Date(`1970-01-01T07:30:00`);
  const toleransiMasuk = new Date(`1970-01-01T08:30:00`);

  let jamPulang = hari === "Jumat"
    ? new Date(`1970-01-01T16:30:00`)
    : new Date(`1970-01-01T16:00:00`);

  let status = "Tepat Waktu ğŸ˜Š";
  let keterlambatanMs = 0;

  if (jamMasuk > jamKerjaMulai && jamMasuk <= toleransiMasuk) {
    keterlambatanMs = jamMasuk - jamKerjaMulai;
    jamPulang = new Date(jamPulang.getTime() + keterlambatanMs);
    // Bulatkan ke atas detik terdekat
    jamPulang.setMilliseconds(0);
    if (jamPulang.getSeconds() > 0) {
      jamPulang.setSeconds(jamPulang.getSeconds() + 1);
    }
    const keterlambatanDetik = Math.ceil(keterlambatanMs / 1000);
    const menit = Math.floor(keterlambatanDetik / 60);
    const detik = keterlambatanDetik % 60;
    status = `Terlambat â³ ${menit} menit ${detik} detik`;
  } else if (jamMasuk > toleransiMasuk) {
    status = "Terlambat Melebihi Toleransi! ğŸš¨";
  }

  function formatJam(date) {
    return date.toTimeString().substring(0, 8); // HH:MM:SS
  }

  let hasil = `<strong>Status:</strong> ${status}<br>`;
  if (status.startsWith("Terlambat")) {
    hasil += `<strong>Jam Pulang Seharusnya:</strong> ${formatJam(jamPulang)}`;
  } else if (status === "Tepat Waktu ğŸ˜Š") {
    hasil += `<strong>Jam Pulang:</strong> ${formatJam(jamPulang)}`;
  }

  hasilDiv.innerHTML = hasil;
}
